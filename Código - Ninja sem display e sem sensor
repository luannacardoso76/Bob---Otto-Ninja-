#include <Servo.h>


const uint8_t ServoLeftLegPin =2; 
const uint8_t ServoRightLegPin=3; 
const uint8_t ServoLeftFootPin  =4;
const uint8_t ServoRightFootPin =5; 
const uint8_t ServoLeftArmPin =6;  
const uint8_t ServoRightArmPin =7;  
const uint8_t ServoHeadPin   =1; 
Servo myservoLeftLeg;
Servo myservoLeftFoot;
Servo myservoRightFoot;
Servo myservoRightLeg;
Servo myservoLeftArm;
Servo myservoRightArm;
Servo myservoHead;

int LA0= 60 +0; // Left Leg standing Position; 0 = Full Tilt Right   180 = Full Tilt Left    Default = 60
int RA0= 120 +0;// Right Leg standing position; 0 = Full Tilt Right   180 = Full Tilt Left    Default = 120
int LA1= 180; // Left Leg roll Position; 0 = Full Tilt Right   180 = Full Tilt Left    Default = 170
int RA1= 0;  // Right Leg roll position,0 = Full Tilt Right   180 = Full Tilt Left     Default = 10
int LATL= LA0 +40;  // Left Leg tilt left walking position,0 = Full Tilt Right   180 = Full Tilt Left    Default = 90
int RATL= RA0 +60;  // Right Leg tilt left walking position,0 = Full Tilt Right   180 = Full Tilt Left    Default = 180
int LATR= LA0 -60;  // Left Leg tilt right walking position,0 = Full Tilt Right   180 = Full Tilt Left     Default = 0
int RATR= RA0 -40;  // Right Leg tilt right walking position,0 = Full Tilt Right   180 = Full Tilt Left     Default = 90

int LFFWRS=20; // Left foot forward walking rotation Speed; 0 = Slowest  90 = Fastest    Default = 20
int RFFWRS=20 ; // Right foot forward walking rotation Speed; 0 = Slowest  90 = Fastest    Default = 20
int LFBWRS= 20; // Left foot Backward walking rotation Speed; 0 = Slowest  90 = Fastest    Default = 20
int RFBWRS= 20; // Right foot Backward walking rotation Speed; 0 = Slowest  90 = Fastest    Default = 20

void NinjaHome()
{
myservoLeftFoot.attach(ServoLeftFootPin, 544, 2400);
myservoRightFoot.attach(ServoRightFootPin, 544, 2400);
myservoLeftLeg.attach(ServoLeftLegPin, 544, 2400);
myservoRightLeg.attach(ServoRightLegPin, 544, 2400);
myservoHead.attach(ServoHeadPin, 544, 2400);
myservoLeftArm.write(180);
myservoRightArm.write(0);
myservoHead.write(90);
delay(400);
myservoLeftFoot.write(90);
myservoRightFoot.write(90);
myservoLeftLeg.write(60);
myservoRightLeg.write(120);
delay(400);
myservoLeftLeg.detach();
myservoRightLeg.detach();
myservoLeftArm.detach();
myservoRightArm.detach();
myservoHead.detach();
}
void NinjaSetWalk()
 {
myservoLeftArm.attach(ServoLeftArmPin, 544, 2400);
  myservoRightArm.attach(ServoRightArmPin, 544, 2400);
  myservoLeftArm.write(90);
  myservoRightArm.write(90);
 delay(200);
 myservoLeftArm.detach();
 myservoRightArm.detach();
 myservoLeftLeg.attach(ServoLeftLegPin, 544, 2400);
myservoRightLeg.attach(ServoRightLegPin, 544, 2400);
myservoLeftLeg.write(LA0);
myservoRightLeg.write(RA0);
 delay(300);
 myservoLeftLeg.detach();
myservoRightLeg.detach();
 myservoLeftArm.attach(ServoLeftArmPin, 544, 2400);
myservoRightArm.attach(ServoRightArmPin, 544, 2400);
 myservoLeftArm.write(180);
myservoRightArm.write(0);
 delay(300);
 myservoLeftArm.detach();
myservoRightArm.detach();
}

void NinjaWalkForward()
{
myservoLeftLeg.attach(ServoLeftLegPin, 544, 2400);
myservoRightLeg.attach(ServoRightLegPin, 544, 2400);
myservoLeftLeg.write(LATR);
myservoRightLeg.write(RATR);
 delay(300);
 myservoRightFoot.attach(ServoRightFootPin, 544, 2400);
myservoRightFoot.write(90-RFFWRS);
 delay(300);
 myservoRightFoot.detach();
 delay(100);
myservoLeftLeg.write(LATL);
myservoRightLeg.write(RATL);
 delay(300);
myservoLeftFoot.attach(ServoLeftFootPin, 544, 2400);
myservoLeftFoot.write(90+LFFWRS);
 delay(300);
 myservoLeftFoot.detach();
 delay(100);
}
void NinjaWalkBackward()
{
myservoLeftLeg.attach(ServoLeftLegPin, 544, 2400);
myservoRightLeg.attach(ServoRightLegPin, 544, 2400);
myservoLeftLeg.write(LATR);
myservoRightLeg.write(RATR);
 delay(300);
 myservoRightFoot.attach(ServoRightFootPin, 544, 2400);
 myservoRightFoot.write(90+RFFWRS);
 delay(300);
 myservoRightFoot.detach();
 delay(100);
myservoLeftLeg.write(LATL);
myservoRightLeg.write(RATL);
 delay(300);
myservoLeftFoot.attach(ServoLeftFootPin, 544, 2400);
myservoLeftFoot.write(90-LFFWRS);
 delay(300);
 myservoLeftFoot.detach();
 delay(100);
}
void NinjaWalkLeft()
{
myservoLeftLeg.attach(ServoLeftLegPin, 544, 2400);
myservoRightLeg.attach(ServoRightLegPin, 544, 2400);
myservoLeftLeg.write(LATR);
myservoRightLeg.write(RATR);
 delay(300);
 myservoRightFoot.attach(ServoRightFootPin, 544, 2400);
 myservoRightFoot.write(90-RFFWRS);
 delay(50);
 myservoRightFoot.detach();
 delay(100);
myservoLeftLeg.write(LATL);
myservoRightLeg.write(RATL);
 delay(300);
myservoLeftFoot.attach(ServoLeftFootPin, 544, 2400);
myservoLeftFoot.write(90+LFFWRS);
 delay(300);
 myservoLeftFoot.detach();
 delay(100);
}
void NinjaWalkRight()
{
myservoLeftLeg.attach(ServoLeftLegPin, 544, 2400);
myservoRightLeg.attach(ServoRightLegPin, 544, 2400);
myservoLeftLeg.write(LATR);
myservoRightLeg.write(RATR);
 delay(300);
 myservoRightFoot.attach(ServoRightFootPin, 544, 2400);
myservoRightFoot.write(90-RFFWRS);
 delay(300);
 myservoRightFoot.detach();
 delay(100);
myservoLeftLeg.write(LATL);
myservoRightLeg.write(RATL);
 delay(300);
myservoLeftFoot.attach(ServoLeftFootPin, 544, 2400);
myservoLeftFoot.write(90+LFFWRS);
 delay(50);
 myservoLeftFoot.detach();
 delay(100);
}
void NinjaWalkStop()
{myservoLeftFoot.write(90);
 myservoRightFoot.write(90);
 myservoLeftLeg.write(LA0);
 myservoRightLeg.write(RA0);}

void NinjaSetRoll()
 {myservoLeftArm.attach(ServoLeftArmPin, 544, 2400);
myservoRightArm.attach(ServoRightArmPin, 544, 2400);
myservoLeftArm.write(90);myservoRightArm.write(90);
 delay(200);
 myservoLeftArm.detach();myservoRightArm.detach();
myservoLeftLeg.attach(ServoLeftLegPin, 544, 2400);
myservoRightLeg.attach(ServoRightLegPin, 544, 2400);
myservoLeftLeg.write(LA1);
myservoRightLeg.write(RA1);
 delay(300);
 myservoLeftLeg.detach();myservoRightLeg.detach();
myservoLeftArm.attach(ServoLeftArmPin, 544, 2400);
myservoRightArm.attach(ServoRightArmPin, 544, 2400);
 myservoLeftArm.write(180);myservoRightArm.write(0);
 delay(300);
 myservoLeftArm.detach();myservoRightArm.detach();}

void NinjaRollForward(int speed)
{
  myservoLeftFoot.attach(ServoLeftFootPin, 544, 2400);
  myservoRightFoot.attach(ServoRightFootPin, 544, 2400);
  myservoLeftFoot.write(90 + speed);
  myservoRightFoot.write(90 - speed);
}
void NinjaRollBackward(int speed)
{
  myservoLeftFoot.attach(ServoLeftFootPin, 544, 2400);
  myservoRightFoot.attach(ServoRightFootPin, 544, 2400);
  myservoLeftFoot.write(90 - speed);
  myservoRightFoot.write(90 + speed);
}
void NinjaRollLeft(int speed)
{
  myservoLeftFoot.attach(ServoLeftFootPin, 544, 2400);
  myservoRightFoot.attach(ServoRightFootPin, 544, 2400);
  myservoLeftFoot.write(90 - speed);
  myservoRightFoot.write(90 - speed);
}
void NinjaRollRight(int speed)
{
  myservoLeftFoot.attach(ServoLeftFootPin, 544, 2400);
  myservoRightFoot.attach(ServoRightFootPin, 544, 2400);
  myservoLeftFoot.write(90 + speed);
  myservoRightFoot.write(90 + speed);
}
void NinjaRollStop()
{myservoLeftFoot.write(90);
myservoRightFoot.write(90);
myservoLeftFoot.detach();
myservoRightFoot.detach();}


void setup() {

}

void loop() {
    NinjaHome();
    NinjaSetWalk();
    for (int count=0 ; count<3 ; count++) {
      NinjaWalkForward();
    }
    NinjaWalkStop();
    NinjaSetRoll();
    delay(300);
    NinjaRollForward(map(100, 0, 100, 0, 90));
    delay(1*1000);
    NinjaRollStop();
    delay(300);

}
