#include <Servo.h>

// ===== PINOS =====
const uint8_t ServoLeftLegPin  = 2;
const uint8_t ServoRightLegPin = 3;
const uint8_t ServoLeftFootPin = 4;
const uint8_t ServoRightFootPin= 5;
const uint8_t ServoLeftArmPin  = 6;
const uint8_t ServoRightArmPin = 7;

// ===== SERVOS =====
Servo myservoLeftLeg;
Servo myservoRightLeg;
Servo myservoLeftFoot;
Servo myservoRightFoot;
Servo myservoLeftArm;
Servo myservoRightArm;

// ===== POSIÇÕES NINJA =====
int LA1 = 180; // perna esquerda dobrada (ninja)
int RA1 = 0;   // perna direita dobrada (ninja)

// =================================================
// ENTRA NO MODO NINJA
// =================================================
void NinjaSetRoll() {

  // Braços para posição ninja
  myservoLeftArm.attach(ServoLeftArmPin);
  myservoRightArm.attach(ServoRightArmPin);
  myservoLeftArm.write(180);
  myservoRightArm.write(0);
  delay(300);
  myservoLeftArm.detach();
  myservoRightArm.detach();

  // Pernas dobradas (modo ninja)
  myservoLeftLeg.attach(ServoLeftLegPin);
  myservoRightLeg.attach(ServoRightLegPin);
  myservoLeftLeg.write(LA1);
  myservoRightLeg.write(RA1);
  delay(500);
  myservoLeftLeg.detach();
  myservoRightLeg.detach();
}

// =================================================
// ROLAR PARA FRENTE
// =================================================
void NinjaRollForward(int speed) {
  myservoLeftFoot.attach(ServoLeftFootPin);
  myservoRightFoot.attach(ServoRightFootPin);

  myservoLeftFoot.write(90 + speed);
  myservoRightFoot.write(90 - speed);
}

// =================================================
// PARAR DE ROLAR
// =================================================
void NinjaRollStop() {
  myservoLeftFoot.write(90);
  myservoRightFoot.write(90);
  delay(200);
  myservoLeftFoot.detach();
  myservoRightFoot.detach();
}

// =================================================
// SETUP
// =================================================
void setup() {
  NinjaSetRoll();          // entra no modo ninja
  delay(500);

  NinjaRollForward(40);    // começa a rolar
  delay(10000);            // ROLA POR 10 SEGUNDOS
  NinjaRollStop();         // para
}

// =================================================
// LOOP
// =================================================
void loop() {
  // vazio – executa só uma vez
}
